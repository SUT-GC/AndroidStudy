##Activity

Activity 是这样一个程序组件，它为用户提供一个用于任务交互的画面。例如，拨打电话，拍照，发邮件。或者查看地图。每一个activity都被分配一个窗口。在这个窗口里，你可以绘制用户交互的内容。 这个窗口通常占满屏幕，但也有可能比屏幕小，并且浮在其它窗口的上面.

一个应用程序通常由多个activity组成，它们彼此保持弱的绑定状态。典型的，当一个activity在一个应用程序内被指定为主activity, 那么当程序第一次启动时，它将第一个展现在用户面前。为了展现不同的内容，每一个activity可以启动另外一个。 每当一个新的activity被启动，那么之前的将被停止。但系统将会把它压入一个栈（“back stack”即后退栈）,当一个新的activity启动，它将被 放到栈顶并获得用户焦点。后台栈遵循后进先出的栈机制。所以当用户完成当前页面并按下返回按钮时，它将被pop出栈（并销毁），之前的activity将被恢复。 （关于后退栈的更多讨论在任务和后退栈）

当一个activity因为另一个activity的启动而被停止，那么其生命周期中的回调方法，将会以状态改变的形式被调用。 activity通过它自身状态的改变可以收到多个回调方法。当系统创建，停止，恢复，销毁它的时候。并且每个回调方法都给你做相应处理工作的机会。 例如，当停止的时候，你的activity应当释放比较大的对象，例如网络连接，数据连接。当你的activity恢复时，你可以请求必须的资源并恢复一些被打断的动作。 这些状态事务的处理就构成了activity的生命周期。 

###创建一个Acticity

要创建一个activity,你必须创建一个Activity（或者它存在的子类）的子类。 在你的子类里，你需要实现系统调用的回调方法，这些方法用于activity在生命周期中进行事务处理。例如创建，停止，恢复，销毁。其中两个最重要的回调方法分别为：

`onCreate()`:你必须实现这个方法。系统会在创建activity的时候调用这个方法。 在实现这个方法的同时，你需要实现你activity的重要组件。 最重要的是，你必须在这里调用 setContentView() 来定义你activity用于用户交互的布局；super.onCreate();
`onPause()`:系统将会调用这个方法作为用户离开activity的首先提示（虽然这并不意味着activity正在被销毁）。这通常是你应该在用户会话之前提交并保存任何更改的时机。 （因为用户可能不会再回到这个activity）

###管理Activity的生命周期

activity可能处于三种基本的状态：
    
* Resumed :     activity在屏幕的前台并且拥有用户的焦点。（这个状态有时也被叫做“running”。） 
* Paused :     另一个activity在前台并拥有焦点，但是本activity还是可见的。也就是说，另外一个activity覆盖在本activity的上面，并且那个activity是部分透明的或没有覆盖整个屏幕。 一个paused的activity是完全存活的（Activity 对象仍然保留在内存里，它保持着所有的状态和成员信息，并且保持与window  manager的联接），但在系统内存严重不足的情况下它能被杀死。 
* Stopped :     本activity被其它的activity完全遮挡住了（本activity目前在后台）。 一个stopped的activity也仍然是存活的（Activity 对象仍然保留在内存中，它保持着所有的状态和成员信息，但是不再与window manager联接了）。但是，对于用户而言它已经不再可见了，并且当其它地方需要内存时它将会被杀死。

> 如果activity被paused或stopped了，则系统可以从内存中删除它，通过请求finish（调用它的 finish() 方法）或者直接杀死它的进程。 当这个activity被再次启动时（在被finish或者kill后），它必须被完全重建。
